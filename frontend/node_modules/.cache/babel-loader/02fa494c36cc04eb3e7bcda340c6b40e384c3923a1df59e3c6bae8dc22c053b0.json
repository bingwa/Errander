{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\user\\\\Desktop\\\\Errand\\\\frontend\\\\src\\\\pages\\\\AdminPage.js\",\n  _s = $RefreshSig$();\n// frontend/src/pages/AdminPage.js\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Button, Alert, Spinner, Card } from 'react-bootstrap';\nimport adminService from '../services/adminService';\nimport AuthContext from '../context/AuthContext';\nimport './AdminPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AdminPage = () => {\n  _s();\n  const {\n    token\n  } = useContext(AuthContext);\n  const [applications, setApplications] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const fetchApplications = async () => {\n    try {\n      const res = await adminService.getPendingErranders(token);\n      setApplications(res.data);\n    } catch (err) {\n      setError('Failed to fetch applications.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchApplications();\n  }, [token]);\n  const handleApprove = async id => {\n    try {\n      await adminService.approveErrander(id, token);\n      setApplications(applications.filter(app => app._id !== id));\n    } catch (err) {\n      setError('Failed to approve application.');\n    }\n  };\n  const handleDeny = async id => {\n    try {\n      await adminService.denyErrander(id, token);\n      setApplications(applications.filter(app => app._id !== id));\n    } catch (err) {\n      setError('Failed to deny application.');\n    }\n  };\n  const API_BASE_URL = 'http://localhost:5000';\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center mt-5\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 50\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Pending Errand Runner Applications\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"danger\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 23\n    }, this), applications.length === 0 ? /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"info\",\n      children: \"No pending applications at the moment.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 17\n    }, this) : applications.map(app => /*#__PURE__*/_jsxDEV(Card, {\n      className: \"application-card\",\n      children: /*#__PURE__*/_jsxDEV(Card.Body, {\n        className: \"d-flex justify-content-between align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"applicant-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            children: [app.firstName, \" \", app.lastName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Email: \", app.user.email, \" | Phone: \", app.user.phoneNumber]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"a\", {\n              href: `${API_BASE_URL}/${app.idDocument}`,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"document-link\",\n              children: \"View ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n              href: `${API_BASE_URL}/${app.goodConductCertificate}`,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"document-link\",\n              children: \"View Certificate\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action-buttons\",\n          children: [/*#__PURE__*/_jsxDEV(Button, {\n            variant: \"success\",\n            onClick: () => handleApprove(app._id),\n            children: \"Approve\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"danger\",\n            onClick: () => handleDeny(app._id),\n            children: \"Deny\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 25\n      }, this)\n    }, app._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }, this))]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n};\n_s(AdminPage, \"3DHG26wOSGAIhz5j1sTEqp5H5yU=\");\n_c = AdminPage;\nexport default AdminPage;\nvar _c;\n$RefreshReg$(_c, \"AdminPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","Button","Alert","Spinner","Card","adminService","AuthContext","jsxDEV","_jsxDEV","AdminPage","_s","token","applications","setApplications","loading","setLoading","error","setError","fetchApplications","res","getPendingErranders","data","err","handleApprove","id","approveErrander","filter","app","_id","handleDeny","denyErrander","API_BASE_URL","className","children","animation","fileName","_jsxFileName","lineNumber","columnNumber","variant","length","map","Body","firstName","lastName","user","email","phoneNumber","href","idDocument","target","rel","goodConductCertificate","onClick","_c","$RefreshReg$"],"sources":["C:/Users/user/Desktop/Errand/frontend/src/pages/AdminPage.js"],"sourcesContent":["// frontend/src/pages/AdminPage.js\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport { Button, Alert, Spinner, Card } from 'react-bootstrap';\r\nimport adminService from '../services/adminService';\r\nimport AuthContext from '../context/AuthContext';\r\nimport './AdminPage.css';\r\n\r\nconst AdminPage = () => {\r\n    const { token } = useContext(AuthContext);\r\n    const [applications, setApplications] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetchApplications = async () => {\r\n        try {\r\n            const res = await adminService.getPendingErranders(token);\r\n            setApplications(res.data);\r\n        } catch (err) {\r\n            setError('Failed to fetch applications.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchApplications();\r\n    }, [token]);\r\n\r\n    const handleApprove = async (id) => {\r\n        try {\r\n            await adminService.approveErrander(id, token);\r\n            setApplications(applications.filter(app => app._id !== id));\r\n        } catch (err) {\r\n            setError('Failed to approve application.');\r\n        }\r\n    };\r\n\r\n    const handleDeny = async (id) => {\r\n        try {\r\n            await adminService.denyErrander(id, token);\r\n            setApplications(applications.filter(app => app._id !== id));\r\n        } catch (err) {\r\n            setError('Failed to deny application.');\r\n        }\r\n    };\r\n    \r\n    const API_BASE_URL = 'http://localhost:5000';\r\n\r\n    if (loading) {\r\n        return <div className=\"text-center mt-5\"><Spinner animation=\"border\" /></div>;\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-container\">\r\n            <div className=\"admin-header mb-4\">\r\n                <h2>Pending Errand Runner Applications</h2>\r\n            </div>\r\n            {error && <Alert variant=\"danger\">{error}</Alert>}\r\n            {applications.length === 0 ? (\r\n                <Alert variant=\"info\">No pending applications at the moment.</Alert>\r\n            ) : (\r\n                applications.map(app => (\r\n                    <Card key={app._id} className=\"application-card\">\r\n                        <Card.Body className=\"d-flex justify-content-between align-items-center\">\r\n                            <div className=\"applicant-info\">\r\n                                <h5>{app.firstName} {app.lastName}</h5>\r\n                                <p>Email: {app.user.email} | Phone: {app.user.phoneNumber}</p>\r\n                                <div>\r\n                                    <a href={`${API_BASE_URL}/${app.idDocument}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"document-link\">View ID</a>\r\n                                    <a href={`${API_BASE_URL}/${app.goodConductCertificate}`} target=\"_blank\" rel=\"noopener noreferrer\" className=\"document-link\">View Certificate</a>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"action-buttons\">\r\n                                <Button variant=\"success\" onClick={() => handleApprove(app._id)}>Approve</Button>\r\n                                <Button variant=\"danger\" onClick={() => handleDeny(app._id)}>Deny</Button>\r\n                            </div>\r\n                        </Card.Body>\r\n                    </Card>\r\n                ))\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default AdminPage;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}