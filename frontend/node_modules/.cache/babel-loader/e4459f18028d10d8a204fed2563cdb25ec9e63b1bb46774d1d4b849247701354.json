{"ast":null,"code":"// frontend/src/services/taskService.js\nimport axios from 'axios';\nconst API_URL = `${process.env.REACT_APP_API_URL}/tasks`;\nconst taskService = {\n  createTask: (data, token) => axios.post(API_URL, data, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  // NOTE: This function was updated to pass only the token, as the backend now gets the erranderId from the JWT.\n  assignTask: (taskId, erranderId, token) => {\n    return axios.put(`${API_URL}/assign/${taskId}`, {\n      erranderId\n    }, {\n      headers: {\n        'x-auth-token': token\n      }\n    });\n  },\n  getAssignedTasks: token => axios.get(`${API_URL}/assigned`, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  updateTaskStatus: (taskId, status, token) => axios.put(`${API_URL}/status/${taskId}`, {\n    status\n  }, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  getTaskDetails: (taskId, token) => axios.get(`${API_URL}/${taskId}`, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  getUserTasks: token => axios.get(`${API_URL}/user/history`, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  rateTask: (taskId, ratingData, token) => axios.put(`${API_URL}/rate/${taskId}`, ratingData, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  getPendingTasks: token => axios.get(`${API_URL}/pending`, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  getPaymentHistory: token => axios.get(`${API_URL}/payment-history`, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  checkoutTask: (taskId, token) => axios.put(`${API_URL}/checkout/${taskId}`, null, {\n    headers: {\n      'x-auth-token': token\n    }\n  }),\n  // --- NEW FUNCTION ---\n  cancelTask: (taskId, token) => {\n    return axios.put(`${API_URL}/cancel/${taskId}`, null, {\n      headers: {\n        'x-auth-token': token\n      }\n    });\n  }\n};\nexport default taskService;","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","taskService","createTask","data","token","post","headers","assignTask","taskId","erranderId","put","getAssignedTasks","get","updateTaskStatus","status","getTaskDetails","getUserTasks","rateTask","ratingData","getPendingTasks","getPaymentHistory","checkoutTask","cancelTask"],"sources":["C:/Users/user/Desktop/Errand/frontend/src/services/taskService.js"],"sourcesContent":["// frontend/src/services/taskService.js\r\nimport axios from 'axios';\r\nconst API_URL = `${process.env.REACT_APP_API_URL}/tasks`;\r\n\r\nconst taskService = {\r\n    createTask: (data, token) => axios.post(API_URL, data, { headers: { 'x-auth-token': token } }),\r\n    \r\n    // NOTE: This function was updated to pass only the token, as the backend now gets the erranderId from the JWT.\r\n    assignTask: (taskId, erranderId, token) => {\r\n        return axios.put(`${API_URL}/assign/${taskId}`, { erranderId }, { headers: { 'x-auth-token': token } });\r\n    },\r\n\r\n    getAssignedTasks: (token) => axios.get(`${API_URL}/assigned`, { headers: { 'x-auth-token': token } }),\r\n    \r\n    updateTaskStatus: (taskId, status, token) => axios.put(`${API_URL}/status/${taskId}`, { status }, { headers: { 'x-auth-token': token } }),\r\n    \r\n    getTaskDetails: (taskId, token) => axios.get(`${API_URL}/${taskId}`, { headers: { 'x-auth-token': token } }),\r\n    \r\n    getUserTasks: (token) => axios.get(`${API_URL}/user/history`, { headers: { 'x-auth-token': token } }),\r\n    \r\n    rateTask: (taskId, ratingData, token) => axios.put(`${API_URL}/rate/${taskId}`, ratingData, { headers: { 'x-auth-token': token } }),\r\n    \r\n    getPendingTasks: (token) => axios.get(`${API_URL}/pending`, { headers: { 'x-auth-token': token } }),\r\n    \r\n    getPaymentHistory: (token) => axios.get(`${API_URL}/payment-history`, { headers: { 'x-auth-token': token } }),\r\n    \r\n    checkoutTask: (taskId, token) => axios.put(`${API_URL}/checkout/${taskId}`, null, { headers: { 'x-auth-token': token } }),\r\n\r\n    // --- NEW FUNCTION ---\r\n    cancelTask: (taskId, token) => {\r\n        return axios.put(`${API_URL}/cancel/${taskId}`, null, { headers: { 'x-auth-token': token } });\r\n    }\r\n};\r\n\r\nexport default taskService;\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,MAAMC,OAAO,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB,QAAQ;AAExD,MAAMC,WAAW,GAAG;EAChBC,UAAU,EAAEA,CAACC,IAAI,EAAEC,KAAK,KAAKR,KAAK,CAACS,IAAI,CAACR,OAAO,EAAEM,IAAI,EAAE;IAAEG,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAE9F;EACAG,UAAU,EAAEA,CAACC,MAAM,EAAEC,UAAU,EAAEL,KAAK,KAAK;IACvC,OAAOR,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,WAAWW,MAAM,EAAE,EAAE;MAAEC;IAAW,CAAC,EAAE;MAAEH,OAAO,EAAE;QAAE,cAAc,EAAEF;MAAM;IAAE,CAAC,CAAC;EAC3G,CAAC;EAEDO,gBAAgB,EAAGP,KAAK,IAAKR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,WAAW,EAAE;IAAES,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAErGS,gBAAgB,EAAEA,CAACL,MAAM,EAAEM,MAAM,EAAEV,KAAK,KAAKR,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,WAAWW,MAAM,EAAE,EAAE;IAAEM;EAAO,CAAC,EAAE;IAAER,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAEzIW,cAAc,EAAEA,CAACP,MAAM,EAAEJ,KAAK,KAAKR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,IAAIW,MAAM,EAAE,EAAE;IAAEF,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAE5GY,YAAY,EAAGZ,KAAK,IAAKR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,eAAe,EAAE;IAAES,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAErGa,QAAQ,EAAEA,CAACT,MAAM,EAAEU,UAAU,EAAEd,KAAK,KAAKR,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,SAASW,MAAM,EAAE,EAAEU,UAAU,EAAE;IAAEZ,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAEnIe,eAAe,EAAGf,KAAK,IAAKR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,UAAU,EAAE;IAAES,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAEnGgB,iBAAiB,EAAGhB,KAAK,IAAKR,KAAK,CAACgB,GAAG,CAAC,GAAGf,OAAO,kBAAkB,EAAE;IAAES,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAE7GiB,YAAY,EAAEA,CAACb,MAAM,EAAEJ,KAAK,KAAKR,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,aAAaW,MAAM,EAAE,EAAE,IAAI,EAAE;IAAEF,OAAO,EAAE;MAAE,cAAc,EAAEF;IAAM;EAAE,CAAC,CAAC;EAEzH;EACAkB,UAAU,EAAEA,CAACd,MAAM,EAAEJ,KAAK,KAAK;IAC3B,OAAOR,KAAK,CAACc,GAAG,CAAC,GAAGb,OAAO,WAAWW,MAAM,EAAE,EAAE,IAAI,EAAE;MAAEF,OAAO,EAAE;QAAE,cAAc,EAAEF;MAAM;IAAE,CAAC,CAAC;EACjG;AACJ,CAAC;AAED,eAAeH,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}